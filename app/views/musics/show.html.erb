<h1>Music: <%= @music.title_or_alt_tuple_str("[", "]", langcode: I18n.locale) %> (by <%= artist=@music.most_significant_artist; artist ? link_to(artist.title_or_alt(prefer_alt: false, langcode: I18n.locale, lang_fallback_option: :either, str_fallback: "", article_to_head: true), artist, title: "the guessed most significant artist") : 'Unknown' %><%= l(Date.new(@music.year), format: :year_comma) if @music.year %>)</h1>

<hr>
<section id="sec_primary">
  <section id="sec_primary_trans">
<%= render partial: 'layouts/all_registered_translations', locals: {model: @music, add_buttons: true} %>
  </section>
<hr>

 <section id="sec_primary_show">
<% if can? :update, @music %>
<p>
  <strong>Internal ID:</strong>
  <%= @music.id %>
</p>
<% end %>

<p>
  <strong>Year:</strong>
  <%= @music.year %>
</p>

<p>
  <strong><%= t("tables.place_country") %>:</strong>
  <%= @music.txt_place_pref_ctry %> 
</p>

<p>
  <strong><%= can?(:update, Genre) ? (link_to 'Genre', genres_url) : 'Genre' %>:</strong>
  <%= sprintf('%s [%s]', *(%w(ja en).map{|i| @music.genre.title(langcode: i) || ''})) rescue 'nil' %>
</p>

<p>
  <strong><%= link_to 'Harami Vids', harami_vids_url %>:</strong>
  <%= t(:times, count: @music.harami_vids.count) %>
</p>

<p>
  <strong>Note:</strong>
  <%= @music.note %>
</p>

<p>
  <strong>Record updated at:</strong>
  <%= @music.updated_at %>
</p>

<p>
  <strong>Record created at:</strong>
  <%= @music.created_at %>
</p>
 </section> <%# closing section id="sec_primary_show" %>

<%= render partial: 'layouts/link_merge_destroy', locals: {model: @music,  is_to_edit: false} %>
</section> <%# closing section id="sec_primary" %>

<hr>

<section id="sec_artists_by">
<%= render partial: 'artists_table', locals: {music: @music, add_buttons: true} %>
</section>

<hr>

<section id="sec_harami_vids_for">
<h3><%= t("show.h2_harami_vid").pluralize(@music.harami_vids.count, I18n.locale) %><%= t("show.h2_for") %><%= t("Music") %>: <%= @music.title_or_alt %></h3>
<%= render partial: 'layouts/harami_vids_index', locals: {harami_vids: @music.harami_vids.order("harami_vids.release_date" => :desc), music: @music} %>
</section>

<% if can? :read, Harami1129 %>
  <hr>
  <section id="sec_harami1129s_for">
    <h3>Harami1129s<%= t("show.h2_for") %><%= t("Music") %>: <%= @music.title_or_alt(langcode: I18n.locale, lang_fallback_option: :either, article_to_head: true) %></h3>
    <%= render partial: 'layouts/harami1129s_table', locals: {harami1129s: @music.harami1129s} %>
  </section>
<% end %>

<hr>

<%= link_to t("layouts.back_to_index"), musics_path %>

